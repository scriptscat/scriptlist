basePath: /api/v2
definitions:
  BadRequest:
    properties:
      code:
        description: 错误码
        format: int32
        type: integer
      msg:
        description: 错误信息
        type: string
    type: object
  auth.OAuthCallbackResponse:
    properties:
      redirect_uri:
        type: string
      uid:
        type: integer
    type: object
  httputils.PageRequest:
    properties:
      page:
        description: Deprecated 请使用方法GetPage
        type: integer
      size:
        description: Deprecated 请使用方法GetSize
        type: integer
    type: object
  httputils.PageResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/issue.Comment'
          type: object
        type: array
      total:
        type: integer
    type: object
  issue.CloseRequest:
    properties:
      id:
        type: integer
      issueId:
        type: integer
    type: object
  issue.CloseResponse:
    properties:
      avatar:
        type: string
      content:
        type: string
      createtime:
        type: integer
      id:
        type: integer
      is_admin:
        type: integer
      issue_id:
        type: integer
      status:
        type: integer
      type:
        $ref: '#/definitions/issue_entity.CommentType'
      updatetime:
        type: integer
      user_id:
        type: integer
      username:
        type: string
    type: object
  issue.Comment:
    properties:
      avatar:
        type: string
      content:
        type: string
      createtime:
        type: integer
      id:
        type: integer
      is_admin:
        type: integer
      issue_id:
        type: integer
      status:
        type: integer
      type:
        $ref: '#/definitions/issue_entity.CommentType'
      updatetime:
        type: integer
      user_id:
        type: integer
      username:
        type: string
    type: object
  issue.CreateCommentRequest:
    properties:
      content:
        type: string
      id:
        type: integer
      issueId:
        type: integer
    type: object
  issue.CreateCommentResponse:
    properties:
      avatar:
        type: string
      content:
        type: string
      createtime:
        type: integer
      id:
        type: integer
      is_admin:
        type: integer
      issue_id:
        type: integer
      status:
        type: integer
      type:
        $ref: '#/definitions/issue_entity.CommentType'
      updatetime:
        type: integer
      user_id:
        type: integer
      username:
        type: string
    type: object
  issue.CreateIssueRequest:
    properties:
      content:
        type: string
      id:
        type: integer
      labels:
        items:
          type: string
        type: array
      title:
        type: string
    type: object
  issue.CreateIssueResponse:
    properties:
      id:
        type: integer
    type: object
  issue.DeleteCommentRequest:
    properties:
      commentId:
        type: integer
      id:
        type: integer
      issueId:
        type: integer
    type: object
  issue.DeleteCommentResponse:
    type: object
  issue.DeleteRequest:
    properties:
      id:
        type: integer
      issueId:
        type: integer
    type: object
  issue.DeleteResponse:
    type: object
  issue.GetIssueResponse:
    properties:
      avatar:
        type: string
      content:
        type: string
      createtime:
        type: integer
      id:
        type: integer
      is_admin:
        type: integer
      labels:
        items:
          type: string
        type: array
      script_id:
        type: integer
      status:
        type: integer
      title:
        type: string
      updatetime:
        type: integer
      user_id:
        type: integer
      username:
        type: string
    type: object
  issue.GetWatchResponse:
    properties:
      watch:
        type: boolean
    type: object
  issue.Issue:
    properties:
      avatar:
        type: string
      createtime:
        type: integer
      id:
        type: integer
      is_admin:
        type: integer
      labels:
        items:
          type: string
        type: array
      script_id:
        type: integer
      status:
        type: integer
      title:
        type: string
      updatetime:
        type: integer
      user_id:
        type: integer
      username:
        type: string
    type: object
  issue.ListCommentResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/issue.Comment'
          type: object
        type: array
      total:
        type: integer
    type: object
  issue.ListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/issue.Comment'
          type: object
        type: array
      total:
        type: integer
    type: object
  issue.OpenRequest:
    properties:
      id:
        type: integer
      issueId:
        type: integer
    type: object
  issue.OpenResponse:
    properties:
      avatar:
        type: string
      content:
        type: string
      createtime:
        type: integer
      id:
        type: integer
      is_admin:
        type: integer
      issue_id:
        type: integer
      status:
        type: integer
      type:
        $ref: '#/definitions/issue_entity.CommentType'
      updatetime:
        type: integer
      user_id:
        type: integer
      username:
        type: string
    type: object
  issue.UpdateLabelsRequest:
    properties:
      id:
        type: integer
      issueId:
        type: integer
      labels:
        items:
          type: string
        type: array
    type: object
  issue.UpdateLabelsResponse:
    properties:
      avatar:
        type: string
      content:
        type: string
      createtime:
        type: integer
      id:
        type: integer
      is_admin:
        type: integer
      issue_id:
        type: integer
      status:
        type: integer
      type:
        $ref: '#/definitions/issue_entity.CommentType'
      updatetime:
        type: integer
      user_id:
        type: integer
      username:
        type: string
    type: object
  issue.WatchRequest:
    properties:
      id:
        type: integer
      issueId:
        type: integer
      watch:
        type: boolean
    type: object
  issue.WatchResponse:
    type: object
  issue_entity.CommentType:
    description: |-
      CommentType enum type:
      - CommentTypeComment: 1
      - CommentTypeChangeTitle: 2
      - CommentTypeChangeLabel: 3
      - CommentTypeOpen: 4
      - CommentTypeClose: 5
      - CommentTypeDelete: 6
    enum:
    - 1
    - 2
    - 3
    - 4
    - 5
    - 6
    type: integer
  model.AdminLevel:
    description: |-
      AdminLevel enum type:
      - Admin: 1
      - SuperModerator: 2
      - Moderator: 3
    enum:
    - 1
    - 2
    - 3
    type: integer
  open.CrxDownloadResponse:
    type: object
  resource.UploadImageRequest:
    properties:
      comment:
        type: string
      link_id:
        type: integer
    type: object
  resource.UploadImageResponse:
    properties:
      comment:
        type: string
      content_type:
        type: string
      createtime:
        type: integer
      id:
        type: string
      link_id:
        type: integer
      name:
        type: string
    type: object
  script.Access:
    properties:
      avatar:
        type: string
      createtime:
        type: integer
      expiretime:
        type: integer
      id:
        type: integer
      is_expire:
        type: boolean
      link_id:
        description: 关联id
        type: integer
      name:
        type: string
      role:
        type: string
      type:
        description: id类型 1=用户id 2=组id
        type: integer
    type: object
  script.AccessListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/issue.Comment'
          type: object
        type: array
      total:
        type: integer
    type: object
  script.AddMemberRequest:
    properties:
      expiretime:
        type: integer
      user_id:
        type: integer
    type: object
  script.AddMemberResponse:
    type: object
  script.ArchiveRequest:
    properties:
      archive:
        type: boolean
      id:
        type: integer
    type: object
  script.ArchiveResponse:
    type: object
  script.CategoryList:
    properties:
      createtime:
        type: integer
      id:
        type: integer
      name:
        type: string
      num:
        description: 本分类下脚本数量
        type: integer
      sort:
        type: integer
      updatetime:
        type: integer
    type: object
  script.Code:
    properties:
      avatar:
        type: string
      changelog:
        type: string
      code,omitempty:
        type: string
      createtime:
        type: integer
      definition,omitempty:
        type: string
      id:
        type: integer
      is_admin:
        type: integer
      is_pre_release:
        $ref: '#/definitions/script_entity.EnablePreRelease'
      meta,omitempty:
        type: string
      meta_json:
        type: object
      script_id:
        type: integer
      status:
        type: integer
      user_id:
        type: integer
      username:
        type: string
      version:
        type: string
    type: object
  script.CodeResponse:
    properties:
      archive:
        type: integer
      avatar:
        type: string
      category:
        items:
          $ref: '#/definitions/script.CategoryList'
        type: array
      content:
        type: string
      createtime:
        type: integer
      danger:
        type: integer
      description:
        type: string
      enable_pre_release:
        $ref: '#/definitions/script_entity.EnablePreRelease'
      id:
        type: integer
      is_admin:
        type: integer
      name:
        type: string
      post_id:
        type: integer
      public:
        type: integer
      score:
        type: integer
      score_num:
        type: integer
      script:
        $ref: '#/definitions/script.Code'
      status:
        type: integer
      today_install:
        type: integer
      total_install:
        type: integer
      type:
        $ref: '#/definitions/script_entity.Type'
      unwell:
        type: integer
      updatetime:
        type: integer
      user_id:
        type: integer
      username:
        type: string
    type: object
  script.CreateAccessRequest:
    properties:
      expiretime,default=0:
        description: 0 为永久
        type: integer
      link_id:
        type: integer
      role:
        $ref: '#/definitions/script_entity.AccessRole'
        description: 访问权限 guest=访客 manager=管理员
      type:
        $ref: '#/definitions/script_entity.AccessType'
        description: id类型 1=用户id 2=组id
    type: object
  script.CreateAccessResponse:
    type: object
  script.CreateGroupRequest:
    properties:
      description:
        type: string
      name:
        type: string
    type: object
  script.CreateGroupResponse:
    type: object
  script.CreateRequest:
    properties:
      changelog:
        type: string
      code:
        type: string
      content:
        type: string
      definition:
        type: string
      description:
        type: string
      name:
        type: string
      public:
        $ref: '#/definitions/script_entity.Public'
        description: 公开类型：1 公开 2 半公开
      type:
        $ref: '#/definitions/script_entity.Type'
        description: 脚本类型：1 用户脚本 2 脚本引用库 3 订阅脚本(不支持)
      unwell:
        $ref: '#/definitions/script_entity.UnwellContent'
        description: '不适内容: 1 不适 2 适用'
      version:
        type: string
    type: object
  script.CreateResponse:
    properties:
      id:
        type: integer
    type: object
  script.DelScoreRequest:
    properties:
      id:
        type: integer
      scoreId:
        type: integer
    type: object
  script.DelScoreResponse:
    type: object
  script.DeleteAccessRequest:
    properties:
      aid:
        type: integer
    type: object
  script.DeleteAccessResponse:
    type: object
  script.DeleteCodeRequest:
    properties:
      codeId:
        type: integer
      id:
        type: integer
    type: object
  script.DeleteCodeResponse:
    type: object
  script.DeleteGroupRequest:
    type: object
  script.DeleteGroupResponse:
    type: object
  script.DeleteRequest:
    properties:
      id:
        type: integer
    type: object
  script.DeleteResponse:
    type: object
  script.GetSettingResponse:
    properties:
      content_url:
        type: string
      definition_url:
        type: string
      enable_pre_release:
        $ref: '#/definitions/script_entity.EnablePreRelease'
      gray_controls:
        items:
          $ref: '#/definitions/script_entity.GrayControl'
        type: array
      sync_mode:
        $ref: '#/definitions/script_entity.SyncMode'
      sync_url:
        type: string
    type: object
  script.Group:
    properties:
      createtime:
        type: integer
      description:
        type: string
      id:
        type: integer
      member:
        items:
          $ref: '#/definitions/script.GroupMember'
        type: array
      member_count:
        type: integer
      name:
        type: string
    type: object
  script.GroupListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/issue.Comment'
          type: object
        type: array
      total:
        type: integer
    type: object
  script.GroupMember:
    properties:
      avatar:
        type: string
      createtime:
        type: integer
      expiretime:
        type: integer
      id:
        type: integer
      is_expire:
        type: boolean
      user_id:
        type: integer
      username:
        type: string
    type: object
  script.GroupMemberListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/issue.Comment'
          type: object
        type: array
      total:
        type: integer
    type: object
  script.InfoResponse:
    properties:
      archive:
        type: integer
      avatar:
        type: string
      category:
        items:
          $ref: '#/definitions/script.CategoryList'
        type: array
      content:
        type: string
      createtime:
        type: integer
      danger:
        type: integer
      description:
        type: string
      enable_pre_release:
        $ref: '#/definitions/script_entity.EnablePreRelease'
      id:
        type: integer
      is_admin:
        type: integer
      name:
        type: string
      post_id:
        type: integer
      public:
        type: integer
      score:
        type: integer
      score_num:
        type: integer
      script:
        $ref: '#/definitions/script.Code'
      status:
        type: integer
      today_install:
        type: integer
      total_install:
        type: integer
      type:
        $ref: '#/definitions/script_entity.Type'
      unwell:
        type: integer
      updatetime:
        type: integer
      user_id:
        type: integer
      username:
        type: string
    type: object
  script.LastScoreResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/issue.Comment'
          type: object
        type: array
      total:
        type: integer
    type: object
  script.ListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/issue.Comment'
          type: object
        type: array
      total:
        type: integer
    type: object
  script.MigrateEsRequest:
    type: object
  script.MigrateEsResponse:
    type: object
  script.PutScoreRequest:
    properties:
      id:
        type: integer
      message:
        type: string
      score:
        type: integer
    type: object
  script.PutScoreResponse:
    type: object
  script.RemoveMemberRequest:
    properties:
      mid:
        type: integer
    type: object
  script.RemoveMemberResponse:
    type: object
  script.Score:
    properties:
      createtime:
        type: integer
      id:
        type: integer
      message:
        type: string
      score:
        type: integer
      script_id:
        type: integer
      state:
        type: integer
      updatetime:
        type: integer
    type: object
  script.ScoreListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/issue.Comment'
          type: object
        type: array
      total:
        type: integer
    type: object
  script.Script:
    properties:
      archive:
        type: integer
      avatar:
        type: string
      category:
        items:
          $ref: '#/definitions/script.CategoryList'
        type: array
      createtime:
        type: integer
      danger:
        type: integer
      description:
        type: string
      enable_pre_release:
        $ref: '#/definitions/script_entity.EnablePreRelease'
      id:
        type: integer
      is_admin:
        type: integer
      name:
        type: string
      post_id:
        type: integer
      public:
        type: integer
      score:
        type: integer
      score_num:
        type: integer
      script:
        $ref: '#/definitions/script.Code'
      status:
        type: integer
      today_install:
        type: integer
      total_install:
        type: integer
      type:
        $ref: '#/definitions/script_entity.Type'
      unwell:
        type: integer
      updatetime:
        type: integer
      user_id:
        type: integer
      username:
        type: string
    type: object
  script.SelfScoreResponse:
    properties:
      createtime:
        type: integer
      id:
        type: integer
      message:
        type: string
      score:
        type: integer
      script_id:
        type: integer
      state:
        type: integer
      updatetime:
        type: integer
    type: object
  script.StateResponse:
    properties:
      watch:
        $ref: '#/definitions/script_entity.ScriptWatchLevel'
    type: object
  script.UpdateAccessRequest:
    properties:
      aid:
        type: integer
      expiretime,default=0:
        description: 0 为永久
        type: integer
      role:
        $ref: '#/definitions/script_entity.AccessRole'
        description: 访问权限 guest=访客 manager=管理员
    type: object
  script.UpdateAccessResponse:
    type: object
  script.UpdateCodeRequest:
    properties:
      changelog:
        type: string
      code:
        type: string
      content:
        type: string
      definition:
        type: string
      id:
        type: integer
      is_pre_release:
        $ref: '#/definitions/script_entity.EnablePreRelease'
      version:
        description: |-
          Name string `form:"name" binding:"max=128" label:"库的名字"`
          Description string `form:"description" binding:"max=102400" label:"库的描述"`
        type: string
    type: object
  script.UpdateCodeResponse:
    type: object
  script.UpdateCodeSettingRequest:
    properties:
      changelog:
        type: string
      codeId:
        type: integer
      id:
        type: integer
      is_pre_release:
        $ref: '#/definitions/script_entity.EnablePreRelease'
    type: object
  script.UpdateCodeSettingResponse:
    type: object
  script.UpdateGroupRequest:
    properties:
      description:
        type: string
      name:
        type: string
    type: object
  script.UpdateGroupResponse:
    type: object
  script.UpdateMemberRequest:
    properties:
      expiretime:
        type: integer
      mid:
        type: integer
    type: object
  script.UpdateMemberResponse:
    type: object
  script.UpdateScriptGrayRequest:
    properties:
      enable_pre_release:
        $ref: '#/definitions/script_entity.EnablePreRelease'
      gray_controls:
        items:
          $ref: '#/definitions/script_entity.GrayControl'
        type: array
    type: object
  script.UpdateScriptGrayResponse:
    type: object
  script.UpdateScriptPublicRequest:
    properties:
      id:
        type: integer
      public:
        $ref: '#/definitions/script_entity.Public'
    type: object
  script.UpdateScriptPublicResponse:
    type: object
  script.UpdateScriptUnwellRequest:
    properties:
      id:
        type: integer
      unwell:
        $ref: '#/definitions/script_entity.UnwellContent'
    type: object
  script.UpdateScriptUnwellResponse:
    type: object
  script.UpdateSettingRequest:
    properties:
      content_url:
        type: string
      definition_url:
        type: string
      description:
        type: string
      id:
        type: integer
      name:
        type: string
      sync_mode:
        $ref: '#/definitions/script_entity.SyncMode'
      sync_url:
        type: string
    type: object
  script.UpdateSettingResponse:
    type: object
  script.VersionCodeResponse:
    properties:
      archive:
        type: integer
      avatar:
        type: string
      category:
        items:
          $ref: '#/definitions/script.CategoryList'
        type: array
      createtime:
        type: integer
      danger:
        type: integer
      description:
        type: string
      enable_pre_release:
        $ref: '#/definitions/script_entity.EnablePreRelease'
      id:
        type: integer
      is_admin:
        type: integer
      name:
        type: string
      post_id:
        type: integer
      public:
        type: integer
      score:
        type: integer
      score_num:
        type: integer
      script:
        $ref: '#/definitions/script.Code'
      status:
        type: integer
      today_install:
        type: integer
      total_install:
        type: integer
      type:
        $ref: '#/definitions/script_entity.Type'
      unwell:
        type: integer
      updatetime:
        type: integer
      user_id:
        type: integer
      username:
        type: string
    type: object
  script.VersionListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/issue.Comment'
          type: object
        type: array
      total:
        type: integer
    type: object
  script.WatchRequest:
    properties:
      id:
        type: integer
      watch:
        $ref: '#/definitions/script_entity.ScriptWatchLevel'
    type: object
  script.WatchResponse:
    type: object
  script.WebhookRequest:
    properties:
      UA:
        type: string
      XHubSignature256:
        type: string
      uid:
        type: integer
    type: object
  script.WebhookResponse:
    type: object
  script_entity.AccessRole:
    description: |-
      AccessRole enum type:
      - AccessRoleGuest: guest
      - AccessRoleManager: manager
      - AccessRoleOwner: owner
    enum:
    - guest
    - manager
    - owner
    type: string
  script_entity.AccessType:
    description: |-
      AccessType enum type:
      - AccessTypeUser: 1
      - AccessTypeGroup: 2
    enum:
    - "1"
    - "2"
    type: integer
  script_entity.Control:
    properties:
      params:
        $ref: '#/definitions/script_entity.GrayControlParams'
      type:
        $ref: '#/definitions/script_entity.GrayControlType'
    type: object
  script_entity.EnablePreRelease:
    description: |-
      EnablePreRelease enum type:
      - EnablePreReleaseScript: 1
      - DisablePreReleaseScript: 2
    enum:
    - 1
    - 2
    type: integer
  script_entity.GrayControl:
    properties:
      controls:
        items:
          $ref: '#/definitions/script_entity.Control'
        type: array
      target_version:
        type: string
    type: object
  script_entity.GrayControlParams:
    properties:
      cookie_regex:
        type: string
      weight:
        type: integer
      weight_day:
        type: number
    type: object
  script_entity.GrayControlType:
    description: |-
      GrayControlType enum type:
      - GrayControlTypeWeight: weight
      - GrayControlTypeCookie: cookie
      - GrayControlTypePreRelease: pre-release
    enum:
    - weight
    - cookie
    - pre-release
    type: string
  script_entity.Public:
    description: |-
      Public enum type:
      - PublicScript: 1
      - UnPublicScript: 2
      - PrivateScript: 3
    enum:
    - 1
    - 2
    - 3
    type: integer
  script_entity.ScriptWatchLevel:
    description: |-
      ScriptWatchLevel enum type:
      - ScriptWatchLevelNone: 0
      - ScriptWatchLevelVersion: 1
      - ScriptWatchLevelIssue: 2
      - ScriptWatchLevelIssueComment: 3
    enum:
    - 0
    - 1
    - 2
    - 3
    type: integer
  script_entity.SyncMode:
    description: |-
      SyncMode enum type:
      - SyncModeAuto: 1
      - SyncModeManual: 2
    enum:
    - 1
    - 2
    type: integer
  script_entity.Type:
    description: |-
      Type enum type:
      - UserscriptType: 1
      - SubscribeType: 2
      - LibraryType: 3
    enum:
    - 1
    - 2
    - 3
    type: integer
  script_entity.UnwellContent:
    description: |-
      UnwellContent enum type:
      - Unwell: 1
      - Well: 2
    enum:
    - 1
    - 2
    type: integer
  statistics.AdvancedInfoResponse:
    properties:
      browser:
        items:
          $ref: '#/definitions/statistics.PieChart'
        type: array
      ip:
        $ref: '#/definitions/statistics.Overview'
      limit:
        $ref: '#/definitions/statistics.Limit'
      new_old_user:
        items:
          $ref: '#/definitions/statistics.PieChart'
        type: array
      pv:
        $ref: '#/definitions/statistics.Overview'
      statistics_key:
        type: string
      system:
        items:
          $ref: '#/definitions/statistics.PieChart'
        type: array
      use_time:
        $ref: '#/definitions/statistics.Overview'
      uv:
        $ref: '#/definitions/statistics.Overview'
      version:
        items:
          $ref: '#/definitions/statistics.PieChart'
        type: array
      whitelist:
        items:
          type: string
        type: array
    type: object
  statistics.Chart:
    properties:
      x:
        items:
          type: string
        type: array
      "y":
        items:
          type: integer
        type: array
    type: object
  statistics.CollectRequest:
    properties:
      duration:
        description: 停留时长(秒)
        type: integer
      exit_time:
        description: 退出时间
        type: integer
      iframe:
        description: 是否在iframe中运行
        type: boolean
      install_page:
        description: 安装页面,从GM_info中提取
        type: string
      operation_page:
        description: 操作页面,当前页面的链接
        type: string
      script_id:
        description: 脚本id,在初始化脚本时设置(例如new ScriptStatistics(1))
        type: integer
      session_id:
        description: 当前会话id,随机生成一串字符,可以是uuid
        type: string
      statistics_key:
        description: 统计key
        type: string
      version:
        description: 版本,从GM_info中提取
        type: string
      visit_time:
        description: 访问时间,脚本执行的时间,unix时间戳(10位)
        type: integer
      visitor_id:
        description: 访客id,从浏览器指纹或者GM_value中获取
        type: string
    type: object
  statistics.CollectResponse:
    type: object
  statistics.CollectWhitelistRequest:
    properties:
      statistics_key:
        description: 统计key
        type: string
    type: object
  statistics.CollectWhitelistResponse:
    properties:
      whitelist:
        items:
          type: string
        type: array
    type: object
  statistics.DUChart:
    properties:
      download:
        $ref: '#/definitions/statistics.Chart'
      update:
        $ref: '#/definitions/statistics.Chart'
    type: object
  statistics.Limit:
    properties:
      quota:
        description: 限额
        type: integer
      usage:
        description: 用额
        type: integer
    type: object
  statistics.Overview:
    properties:
      today:
        type: integer
      week:
        type: integer
      yesterday:
        type: integer
    type: object
  statistics.PieChart:
    properties:
      key:
        type: string
      value:
        type: integer
    type: object
  statistics.RealtimeChartResponse:
    properties:
      chart:
        $ref: '#/definitions/statistics.Chart'
    type: object
  statistics.ScriptRealtimeResponse:
    properties:
      download:
        $ref: '#/definitions/statistics.Chart'
      update:
        $ref: '#/definitions/statistics.Chart'
    type: object
  statistics.ScriptResponse:
    properties:
      download_uv:
        $ref: '#/definitions/statistics.Overview'
      page_pv:
        $ref: '#/definitions/statistics.Overview'
      page_uv:
        $ref: '#/definitions/statistics.Overview'
      pv_chart:
        $ref: '#/definitions/statistics.DUChart'
      update_uv:
        $ref: '#/definitions/statistics.Overview'
      uv_chart:
        $ref: '#/definitions/statistics.DUChart'
    type: object
  statistics.UpdateWhitelistRequest:
    properties:
      id:
        type: integer
      whitelist:
        items:
          type: string
        type: array
    type: object
  statistics.UpdateWhitelistResponse:
    properties:
      whitelist:
        items:
          type: string
        type: array
    type: object
  statistics.UserOriginResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/issue.Comment'
          type: object
        type: array
      total:
        type: integer
    type: object
  statistics.VisitDomainResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/issue.Comment'
          type: object
        type: array
      total:
        type: integer
    type: object
  statistics.VisitItem:
    properties:
      duration:
        type: integer
      exit_time:
        type: integer
      operation_page:
        description: OperationHost string `json:"operation_host"`
        type: string
      visit_time:
        type: integer
      visitor_id:
        description: SessionID     string `json:"session_id"`
        type: string
    type: object
  statistics.VisitListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/issue.Comment'
          type: object
        type: array
      total:
        type: integer
    type: object
  user.CurrentUserResponse:
    properties:
      avatar:
        type: string
      email_status:
        type: integer
      is_admin:
        $ref: '#/definitions/model.AdminLevel'
      user_id:
        type: integer
      username:
        type: string
    type: object
  user.FollowRequest:
    properties:
      uid:
        type: integer
      unfollow:
        type: boolean
    type: object
  user.FollowResponse:
    type: object
  user.GetConfigResponse:
    properties:
      notify:
        $ref: '#/definitions/user_entity.Notify'
        description: 邮件通知配置
    type: object
  user.GetFollowResponse:
    properties:
      followers:
        description: 粉丝
        type: integer
      following:
        description: 关注
        type: integer
      is_follow:
        description: 是否关注
        type: boolean
    type: object
  user.GetWebhookResponse:
    properties:
      token:
        type: string
    type: object
  user.InfoResponse:
    properties:
      avatar:
        type: string
      email_status:
        type: integer
      is_admin:
        $ref: '#/definitions/model.AdminLevel'
      user_id:
        type: integer
      username:
        type: string
    type: object
  user.RefreshWebhookRequest:
    type: object
  user.RefreshWebhookResponse:
    properties:
      token:
        type: string
    type: object
  user.ScriptResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/issue.Comment'
          type: object
        type: array
      total:
        type: integer
    type: object
  user.UpdateConfigRequest:
    properties:
      notify:
        $ref: '#/definitions/user_entity.Notify'
    type: object
  user.UpdateConfigResponse:
    type: object
  user_entity.Notify:
    properties:
      at:
        description: 艾特
        type: boolean
      create_script:
        description: 创建脚本
        type: boolean
      score:
        description: 脚本评分
        type: boolean
      script_issue:
        description: 脚本反馈
        type: boolean
      script_issue_comment:
        description: 脚本反馈评论
        type: boolean
      script_update:
        description: 脚本更新
        type: boolean
    type: object
  user_entity.UserInfo:
    properties:
      avatar:
        type: string
      is_admin:
        type: integer
      user_id:
        type: integer
      username:
        type: string
    type: object
info:
  title: 脚本站 API 文档
  version: 2.0.0
paths:
  /login/oauth:
    get:
      consumes:
      - application/json
      description: 第三方登录
      parameters:
      - in: query
        name: code
        type: string
      - in: query
        name: redirect_uri
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/auth.OAuthCallbackResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 第三方登录
      tags:
      - auth
  /open/crx-download/{id}:
    get:
      consumes:
      - application/json
      description: 谷歌crx下载服务
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/open.CrxDownloadResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 谷歌crx下载服务
      tags:
      - open
  /resource/image:
    post:
      consumes:
      - application/json
      description: 上传图片
      parameters:
      - in: body
        name: body
        schema:
          $ref: '#/definitions/resource.UploadImageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/resource.UploadImageResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 上传图片
      tags:
      - resource
  /script/{id}/statistics:
    get:
      consumes:
      - application/json
      description: 脚本统计数据
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/statistics.ScriptResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 脚本统计数据
      tags:
      - statistics
  /script/{id}/statistics/realtime:
    get:
      consumes:
      - application/json
      description: 脚本实时统计数据
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/statistics.ScriptRealtimeResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 脚本实时统计数据
      tags:
      - statistics
  /scripts:
    get:
      consumes:
      - application/json
      description: 获取脚本列表
      parameters:
      - in: query
        name: keyword
        type: string
      - in: query
        name: domain
        type: string
      - description: '0:全部 1: 脚本 2: 库 3: 后台脚本 4: 定时脚本'
        in: query
        name: script_type,default=0
        type: integer
      - in: query
        name: sort,default=today_download
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.ListResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取脚本列表
      tags:
      - script
    post:
      consumes:
      - application/json
      description: 创建脚本
      parameters:
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.CreateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.CreateResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 创建脚本
      tags:
      - script
  /scripts/:id/access:
    get:
      consumes:
      - application/json
      description: 访问控制列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.AccessListResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 访问控制列表
      tags:
      - script/access
    post:
      consumes:
      - application/json
      description: 创建访问控制
      parameters:
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.CreateAccessRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.CreateAccessResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 创建访问控制
      tags:
      - script/access
  /scripts/:id/access/{aid}:
    delete:
      consumes:
      - application/json
      description: 删除访问控制
      parameters:
      - in: path
        name: aid
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.DeleteAccessRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.DeleteAccessResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 删除访问控制
      tags:
      - script/access
    put:
      consumes:
      - application/json
      description: 更新访问控制
      parameters:
      - in: path
        name: aid
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.UpdateAccessRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.UpdateAccessResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 更新访问控制
      tags:
      - script/access
  /scripts/:id/gray:
    put:
      consumes:
      - application/json
      description: 更新脚本灰度策略
      parameters:
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.UpdateScriptGrayRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.UpdateScriptGrayResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 更新脚本灰度策略
      tags:
      - script
  /scripts/:id/group:
    get:
      consumes:
      - application/json
      description: 群组列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.GroupListResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 群组列表
      tags:
      - script/group
    post:
      consumes:
      - application/json
      description: 创建群组
      parameters:
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.CreateGroupRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.CreateGroupResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 创建群组
      tags:
      - script/group
  /scripts/:id/group/:gid:
    delete:
      consumes:
      - application/json
      description: 删除群组
      parameters:
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.DeleteGroupRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.DeleteGroupResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 删除群组
      tags:
      - script/group
    put:
      consumes:
      - application/json
      description: 更新群组
      parameters:
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.UpdateGroupRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.UpdateGroupResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 更新群组
      tags:
      - script/group
  /scripts/:id/group/:gid/member:
    get:
      consumes:
      - application/json
      description: 群组成员列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.GroupMemberListResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 群组成员列表
      tags:
      - script/group
    post:
      consumes:
      - application/json
      description: 添加成员
      parameters:
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.AddMemberRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.AddMemberResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 添加成员
      tags:
      - script/group
  /scripts/:id/group/:gid/member/{mid}:
    delete:
      consumes:
      - application/json
      description: 移除成员
      parameters:
      - in: path
        name: mid
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.RemoveMemberRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.RemoveMemberResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 移除成员
      tags:
      - script/group
    put:
      consumes:
      - application/json
      description: 更新成员
      parameters:
      - in: path
        name: mid
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.UpdateMemberRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.UpdateMemberResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 更新成员
      tags:
      - script/group
  /scripts/{id}:
    delete:
      consumes:
      - application/json
      description: 删除脚本
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.DeleteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.DeleteResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 删除脚本
      tags:
      - script
    get:
      consumes:
      - application/json
      description: 获取脚本信息
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.InfoResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取脚本信息
      tags:
      - script
  /scripts/{id}/archive:
    put:
      consumes:
      - application/json
      description: 归档脚本
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.ArchiveRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.ArchiveResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 归档脚本
      tags:
      - script
  /scripts/{id}/code:
    get:
      consumes:
      - application/json
      description: 获取脚本代码信息
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.CodeResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取脚本代码信息
      tags:
      - script
    put:
      consumes:
      - application/json
      description: 更新脚本/库代码
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.UpdateCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.UpdateCodeResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 更新脚本/库代码
      tags:
      - script
  /scripts/{id}/code/{codeId}:
    delete:
      consumes:
      - application/json
      description: 删除脚本/库代码
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: path
        name: codeId
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.DeleteCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.DeleteCodeResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 删除脚本/库代码
      tags:
      - script
    put:
      consumes:
      - application/json
      description: 更新脚本设置
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: path
        name: codeId
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.UpdateCodeSettingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.UpdateCodeSettingResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 更新脚本设置
      tags:
      - script
  /scripts/{id}/issues:
    get:
      consumes:
      - application/json
      description: 获取脚本反馈列表
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/issue.ListResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取脚本反馈列表
      tags:
      - issue
    post:
      consumes:
      - application/json
      description: 创建脚本反馈
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/issue.CreateIssueRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/issue.CreateIssueResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 创建脚本反馈
      tags:
      - issue
  /scripts/{id}/issues/{issueId}:
    delete:
      consumes:
      - application/json
      description: 删除issue
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: path
        name: issueId
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/issue.DeleteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/issue.DeleteResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 删除issue
      tags:
      - issue
    get:
      consumes:
      - application/json
      description: 获取issue信息
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: path
        name: issueId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/issue.GetIssueResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取issue信息
      tags:
      - issue
  /scripts/{id}/issues/{issueId}/close:
    put:
      consumes:
      - application/json
      description: 关闭issue
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: path
        name: issueId
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/issue.CloseRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/issue.CloseResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 关闭issue
      tags:
      - issue
  /scripts/{id}/issues/{issueId}/comment:
    get:
      consumes:
      - application/json
      description: 获取反馈评论列表
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: path
        name: issueId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/issue.ListCommentResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取反馈评论列表
      tags:
      - issue/comment
    post:
      consumes:
      - application/json
      description: 创建反馈评论
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: path
        name: issueId
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/issue.CreateCommentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/issue.CreateCommentResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 创建反馈评论
      tags:
      - issue/comment
  /scripts/{id}/issues/{issueId}/comment/{commentId}:
    delete:
      consumes:
      - application/json
      description: 删除反馈评论
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: path
        name: issueId
        required: true
        type: integer
      - in: path
        name: commentId
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/issue.DeleteCommentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/issue.DeleteCommentResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 删除反馈评论
      tags:
      - issue/comment
  /scripts/{id}/issues/{issueId}/labels:
    put:
      consumes:
      - application/json
      description: 更新issue标签
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: path
        name: issueId
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/issue.UpdateLabelsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/issue.UpdateLabelsResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 更新issue标签
      tags:
      - issue
  /scripts/{id}/issues/{issueId}/open:
    put:
      consumes:
      - application/json
      description: 打开issue
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: path
        name: issueId
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/issue.OpenRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/issue.OpenResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 打开issue
      tags:
      - issue
  /scripts/{id}/issues/{issueId}/watch:
    get:
      consumes:
      - application/json
      description: 获取issue关注状态
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: path
        name: issueId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/issue.GetWatchResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取issue关注状态
      tags:
      - issue
    put:
      consumes:
      - application/json
      description: 关注issue
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: path
        name: issueId
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/issue.WatchRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/issue.WatchResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 关注issue
      tags:
      - issue
  /scripts/{id}/public:
    put:
      consumes:
      - application/json
      description: 更新脚本公开类型
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.UpdateScriptPublicRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.UpdateScriptPublicResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 更新脚本公开类型
      tags:
      - script
  /scripts/{id}/score:
    get:
      consumes:
      - application/json
      description: 获取脚本评分列表
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.ScoreListResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取脚本评分列表
      tags:
      - script/score
    put:
      consumes:
      - application/json
      description: 脚本评分
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.PutScoreRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.PutScoreResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 脚本评分
      tags:
      - script/score
  /scripts/{id}/score/{scoreId}:
    delete:
      consumes:
      - application/json
      description: 用于删除脚本的评价，注意，只有管理员才有权限删除评价
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: path
        name: scoreId
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.DelScoreRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.DelScoreResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 用于删除脚本的评价，注意，只有管理员才有权限删除评价
      tags:
      - script/score
  /scripts/{id}/score/self:
    get:
      consumes:
      - application/json
      description: 用于获取自己对脚本的评价
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.SelfScoreResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 用于获取自己对脚本的评价
      tags:
      - script/score
  /scripts/{id}/setting:
    get:
      consumes:
      - application/json
      description: 获取脚本设置
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.GetSettingResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取脚本设置
      tags:
      - script
    put:
      consumes:
      - application/json
      description: 更新脚本设置
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.UpdateSettingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.UpdateSettingResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 更新脚本设置
      tags:
      - script
  /scripts/{id}/state:
    get:
      consumes:
      - application/json
      description: 获取脚本状态,脚本关注等
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.StateResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取脚本状态,脚本关注等
      tags:
      - script
  /scripts/{id}/unwell:
    put:
      consumes:
      - application/json
      description: 更新脚本不适内容
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.UpdateScriptUnwellRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.UpdateScriptUnwellResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 更新脚本不适内容
      tags:
      - script
  /scripts/{id}/versions:
    get:
      consumes:
      - application/json
      description: 获取版本列表
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.VersionListResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取版本列表
      tags:
      - script
  /scripts/{id}/versions/{version}/code:
    get:
      consumes:
      - application/json
      description: 获取指定版本代码
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: path
        name: version
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.VersionCodeResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取指定版本代码
      tags:
      - script
  /scripts/{id}/watch:
    post:
      consumes:
      - application/json
      description: 关注脚本
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.WatchRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.WatchResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 关注脚本
      tags:
      - script
  /scripts/last-score:
    get:
      consumes:
      - application/json
      description: 最新评分脚本
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.LastScoreResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 最新评分脚本
      tags:
      - script
  /scripts/migrate/es:
    post:
      consumes:
      - application/json
      description: 全量迁移数据到es
      parameters:
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.MigrateEsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.MigrateEsResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 全量迁移数据到es
      tags:
      - script
  /statistics/{id}/advanced:
    get:
      consumes:
      - application/json
      description: 高级统计信息
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/statistics.AdvancedInfoResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 高级统计信息
      tags:
      - statistics
  /statistics/{id}/realtime/chart:
    get:
      consumes:
      - application/json
      description: 实时统计数据图表
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/statistics.RealtimeChartResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 实时统计数据图表
      tags:
      - statistics
  /statistics/{id}/user-origin:
    get:
      consumes:
      - application/json
      description: 用户来源统计
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/statistics.UserOriginResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 用户来源统计
      tags:
      - statistics
  /statistics/{id}/visit:
    get:
      consumes:
      - application/json
      description: 访问列表
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/statistics.VisitListResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 访问列表
      tags:
      - statistics
  /statistics/{id}/visit-domain:
    get:
      consumes:
      - application/json
      description: 访问域名统计
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/statistics.VisitDomainResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 访问域名统计
      tags:
      - statistics
  /statistics/{id}/whitelist:
    put:
      consumes:
      - application/json
      parameters:
      - in: path
        name: id
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/statistics.UpdateWhitelistRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/statistics.UpdateWhitelistResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      tags:
      - statistics
  /statistics/collect:
    post:
      consumes:
      - application/json
      description: 统计数据收集
      parameters:
      - in: body
        name: body
        schema:
          $ref: '#/definitions/statistics.CollectRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/statistics.CollectResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 统计数据收集
      tags:
      - statistics
  /statistics/collect/whitelist:
    post:
      consumes:
      - application/json
      parameters:
      - in: body
        name: body
        schema:
          $ref: '#/definitions/statistics.CollectWhitelistRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/statistics.CollectWhitelistResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      tags:
      - statistics
  /users:
    get:
      consumes:
      - application/json
      description: 获取当前登录的用户信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/user.CurrentUserResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取当前登录的用户信息
      tags:
      - user
  /users/{uid}/follow:
    get:
      consumes:
      - application/json
      description: 获取用户关注信息
      parameters:
      - in: path
        name: uid
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/user.GetFollowResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取用户关注信息
      tags:
      - user
    post:
      consumes:
      - application/json
      description: 关注用户
      parameters:
      - in: path
        name: uid
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/user.FollowRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/user.FollowResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 关注用户
      tags:
      - user
  /users/{uid}/info:
    get:
      consumes:
      - application/json
      description: 获取指定用户信息
      parameters:
      - in: path
        name: uid
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/user.InfoResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取指定用户信息
      tags:
      - user
  /users/{uid}/scripts:
    get:
      consumes:
      - application/json
      description: 用户脚本列表
      parameters:
      - in: path
        name: uid
        required: true
        type: integer
      - in: query
        name: keyword
        type: string
      - description: '0:全部 1: 脚本 2: 库 3: 后台脚本 4: 定时脚本'
        in: query
        name: script_type,default=0
        type: integer
      - in: query
        name: sort,default=today_download
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/user.ScriptResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 用户脚本列表
      tags:
      - user
  /users/config:
    get:
      consumes:
      - application/json
      description: 获取用户配置
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/user.GetConfigResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取用户配置
      tags:
      - user
    put:
      consumes:
      - application/json
      description: 更新用户配置
      parameters:
      - in: body
        name: body
        schema:
          $ref: '#/definitions/user.UpdateConfigRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/user.UpdateConfigResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 更新用户配置
      tags:
      - user
  /users/webhook:
    get:
      consumes:
      - application/json
      description: 获取webhook配置
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/user.GetWebhookResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 获取webhook配置
      tags:
      - user
    put:
      consumes:
      - application/json
      description: 刷新webhook配置
      parameters:
      - in: body
        name: body
        schema:
          $ref: '#/definitions/user.RefreshWebhookRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/user.RefreshWebhookResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 刷新webhook配置
      tags:
      - user
  /webhook/{uid}:
    post:
      consumes:
      - application/json
      description: 处理webhook请求
      parameters:
      - in: path
        name: uid
        required: true
        type: integer
      - in: body
        name: body
        schema:
          $ref: '#/definitions/script.WebhookRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            properties:
              code:
                type: integer
              data:
                $ref: '#/definitions/script.WebhookResponse'
              msg:
                type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/BadRequest'
      summary: 处理webhook请求
      tags:
      - script
swagger: "2.0"
